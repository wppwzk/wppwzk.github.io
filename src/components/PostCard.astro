---
import { formatDate } from '../lib/utils';
import type { CollectionEntry } from 'astro:content';

interface Props {
	post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
---

<article class="group relative flex flex-col items-start p-6 bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm transition-all hover:shadow-md hover:border-indigo-300 dark:hover:border-indigo-700">
    <div class="flex items-center gap-x-4 text-xs mb-4">
        <time datetime={post.data.pubDate.toISOString()} class="text-zinc-500 dark:text-zinc-400">
            {formatDate(post.data.pubDate)}
        </time>
        <span class="relative z-10 rounded-full bg-indigo-50 px-2 py-1 font-medium text-indigo-600 hover:bg-indigo-100 dark:bg-indigo-400/10 dark:text-indigo-400">
            {post.data.category || 'Blog'}
        </span>
    </div>
    
    <div class="group relative w-full">
        <h3 class="mt-3 text-lg font-semibold leading-6 text-zinc-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors">
            <a href={`/my-blog/blog/${post.slug}/`}>
                <span class="absolute inset-0"></span>
                {post.data.title}
            </a>
        </h3>
        <p class="mt-3 text-sm leading-6 text-zinc-600 dark:text-zinc-400 line-clamp-3">
            {post.data.description}
        </p>
    </div>
    
    <div class="mt-auto pt-4 flex items-center justify-between w-full">
         <div class="flex gap-2">
            {post.data.tags.slice(0, 3).map((tag) => (
                <span class="text-xs text-zinc-400 dark:text-zinc-500">#{tag}</span>
            ))}
         </div>
    </div>
</article>
