---
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/PostCard.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog'))
    .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
    .slice(0, 6);
---

<Layout title="首页 | My Technical Blog" description="分享技术心得与开发经验">
	<section class="py-20 sm:py-32 relative overflow-hidden">
         <div class="text-center relative z-10 animate-fade-in">
            <div class="inline-flex items-center rounded-full px-3 py-1 text-sm font-medium text-indigo-600 dark:text-indigo-400 ring-1 ring-inset ring-indigo-600/20 bg-indigo-50/50 dark:bg-indigo-950/30 mb-6 animate-slide-up">
                <span class="flex h-2 w-2 rounded-full bg-indigo-600 dark:bg-indigo-400 mr-2 animate-pulse"></span>
                System Online
            </div>

            <h1 class="text-4xl font-bold font-heading tracking-tight text-zinc-900 dark:text-white sm:text-7xl mb-6">
                <span class="block">Building the</span>
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 animate-gradient-x">
                    Digital Future
                </span>
            </h1>

            <div class="h-8 mb-8 flex justify-center items-center">
                 <p class="text-lg text-zinc-600 dark:text-zinc-400 font-mono overflow-hidden whitespace-nowrap border-r-2 border-indigo-500 animate-typing max-w-fit">
                    > hello_world.exe --init exploring_tech
                </p>
            </div>
            
             <div class="mt-10 flex items-center justify-center gap-x-6 animate-slide-up" style="animation-delay: 200ms;">
                <a href="/my-blog/blog" class="rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:bg-indigo-500 hover:shadow-indigo-500/25 transition-all hover:scale-105 active:scale-95 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                    Browse Articles
                </a>
                <a href="https://github.com/username" target="_blank" class="text-sm font-semibold leading-6 text-zinc-900 dark:text-white flex items-center hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">
                    GitHub Profile <span aria-hidden="true" class="ml-1">→</span>
                </a>
            </div>
         </div>
    </section>

    <section class="py-12 border-t border-zinc-200/50 dark:border-zinc-800/50 backdrop-blur-sm">
        <div class="flex justify-between items-end mb-10">
            <div>
                 <h2 class="text-3xl font-bold font-heading tracking-tight text-zinc-900 dark:text-white">Latest Transmissions</h2>
                 <p class="mt-2 text-zinc-500 dark:text-zinc-400">Recent technical explorations and thoughts.</p>
            </div>
            <a href="/my-blog/blog" class="hidden sm:inline-flex items-center text-sm font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 transition-colors">
                View Archives <svg class="ml-1 w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
            </a>
        </div>
       
        <!-- Bento Grid Layout -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 auto-rows-[minmax(0,1fr)]">
            {posts.map((post, index) => {
                // First item spans 4 cols (large), second 2 cols.
                // Third 2 cols, fourth 2 cols, fifth 2 cols.
                // Just a simple rhythm: 4-2, 2-2-2. 
                const className = index === 0 ? 'lg:col-span-4 lg:row-span-2' : 
                                  index === 1 ? 'lg:col-span-2 lg:row-span-2' : 
                                  'lg:col-span-2 lg:row-span-1';
                
                return (
                    <div class={className}>
                        <PostCard post={post} />
                    </div>
                );
            })}
        </div>
        
        <div class="mt-10 text-center sm:hidden">
             <a href="/my-blog/blog" class="text-sm font-semibold leading-6 text-indigo-600 dark:text-indigo-400 hover:text-indigo-500">
                View all archives <span aria-hidden="true">→</span>
            </a>
        </div>
    </section>
</Layout>
